{"version":3,"sources":["app.js"],"names":["$","body","timerStop","page","fullpagePl","runSec2Timer","sec2Timer","CountUp","separator","start","localStorage","getItem","text","mask","wl","callbacks","onFormSubmit","$form","res","formData","data","status","removeClass","selfName","find","selfPhone","selfEmail","console","log","val","serialize","hide","fadeIn","name","setItem","ajax","type","url","success","def","window","location","submit","e","preventDefault","self","when","on","target","hasClass","fadeOut","fadeToggle","matchMedia","matches","viewportChecker","classToAdd","classToAddForFullView","callbackFunction","elem","action","addClass","fullpage","scrollOverflow","afterRender","afterLoad","anchorLink","index","onLeave","nextIndex","direction"],"mappings":"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","file":"app.js","sourcesContent":["$(function() {\r\n\r\n    var body = $(\"body\");\r\n    var timerStop = true;\r\n    var page = $(\"#mainFullpage\");\r\n    var fullpagePl = true;\r\n\r\n    function runSec2Timer() {\r\n        var sec2Timer = new CountUp(\"sec2__number\", 0, 2000, 0, 1.4, {\r\n            separator: \"\"\r\n        });\r\n        sec2Timer.start();\r\n    };\r\n    \r\n    if (localStorage.getItem('landclientname')) {\r\n        $(\".thanks__name\").text(localStorage.getItem('landclientname'));\r\n    }\r\n\r\n    $(\".js-input-tel\").mask(\"+7 (999) 999-99-99\");\r\n\r\n    // $(\".sec6__form,.g-modal__form:not(.g-modal__form_presentation)\").submit(function(e) {\r\n    //     e.preventDefault();\r\n    //     var self = $(this);\r\n    //     var selfName = self.find(\"input[name=name]\");\r\n    //     var selfPhone = self.find(\"input[name=phone]\");\r\n    //     var selfEmail = self.find(\"input[name=email]\");\r\n    //     var formData = self.serialize();\r\n    //     console.log(formData);\r\n\r\n    //     $(\"[name=name1]\").val(selfName.val());\r\n    //     $(\"[name=phone1]\").val(selfPhone.val());\r\n    //     $(\"[name=email1]\").val(selfEmail.val());\r\n\r\n    //     $.when(\r\n    //         $.ajax({\r\n    //             method: \"POST\",\r\n    //             url: \"phpfiles/send.php\",\r\n    //             data: formData,\r\n    //             success: function(data) {\r\n    //                 $(\".g-modal_thanks\").fadeIn();\r\n    //             }\r\n    //         }),\r\n\r\n    //         $.ajax({\r\n    //             method: \"POST\",\r\n    //             url: \"phpfiles/sendwe.php\",\r\n    //             data: formData,\r\n    //             success: function(data) {\r\n                    \r\n    //             }\r\n    //         })\r\n    //     );\r\n\r\n    //     var selfName = self.find(\"input[name=name]\").val();\r\n\r\n    //     localStorage.setItem('orCarName', selfName + \", \");\r\n    // });\r\n\r\n    // $(\".g-modal__form_presentation\").submit(function(e) {\r\n    //     e.preventDefault();\r\n\r\n    //     var self = $(this);\r\n    //     var formData = self.serializeArray();\r\n\r\n    //     $.ajax({\r\n    //         method: \"POST\",\r\n    //         url: \"phpfiles/sendpresent.php\",\r\n    //         data: formData,\r\n    //         success: function(data) {\r\n    //             $(\".g-modal\").fadeOut();\r\n    //             window.location = \"thanks.html\";\r\n    //         }\r\n    //     });\r\n    // });\r\n\r\n    if (typeof wl != \"undefined\") {\r\n        wl.callbacks.onFormSubmit = function ($form, res) {\r\n            var formData;\r\n            if ($form.data('next')) {\r\n            \r\n                if(res.status == 200) {\r\n                    $(\".form-wrap_open\").removeClass(\"form-wrap_open\");\r\n\r\n                    var selfName = $form.find(\"input[name=name]\");\r\n                    var selfPhone = $form.find(\"input[name=phone]\");\r\n                    var selfEmail = $form.find(\"input[name=email]\");\r\n                    console.log(formData);\r\n\r\n                    $(\"[name=name1]\").val(selfName.val());\r\n                    $(\"[name=phone1]\").val(selfPhone.val());\r\n                    $(\"[name=email1]\").val(selfEmail.val());\r\n                    formData = $form.serialize();\r\n                    \r\n                   $('.g-modal_get-call').hide();\r\n                   $(\".g-modal_request\").hide();\r\n                   $(\".g-modal_thanks\").fadeIn();\r\n\r\n                    name = selfName.val();\r\n\r\n                    if (name) {\r\n                        localStorage.setItem(\"landclientname\", name + \", наши\");\r\n                    } else {\r\n                        localStorage.setItem(\"landclientname\", \"Наши\");\r\n                    }\r\n\r\n                    $.ajax({\r\n                        type: \"POST\",\r\n                        url: \"phpfiles/sendwe.php\",\r\n                        data: formData,\r\n                        success: function() {\r\n                            console.log(1)\r\n                        }\r\n                    })\r\n                } else {  \r\n                    wl.callbacks.def.onFormSubmit($form, res);\r\n                }\r\n            } else {\r\n                //formData = $form.serialize();\r\n                \r\n                // $.ajax({\r\n                //     type: \"POST\",\r\n                //     url: \"phpfiles/sendwe.php\",\r\n                //     data: formData,\r\n                //     success: function() {\r\n                //         alert(formData);\r\n                //         window.location = \"thanks.html\";\r\n                //     }\r\n                // })\r\n                \r\n                window.location = \"thanks.html\";\r\n            }\r\n        };\r\n    } else {\r\n        $(\"#smallForm, #middleForm, #openForm, #bigForm\").submit(function(e) {\r\n            e.preventDefault();\r\n\r\n            var self = $(this);\r\n            var selfName = self.find(\"input[name=name]\");\r\n            var selfPhone = self.find(\"input[name=phone]\");\r\n            var selfEmail = self.find(\"input[name=email]\");\r\n            var formData = self.serialize();\r\n            console.log(formData);\r\n                   //$(\".g-modal_thanks\").fadeToggle();\r\n\r\n            $(\"[name=name1]\").val(selfName.val());\r\n            $(\"[name=phone1]\").val(selfPhone.val());\r\n            $(\"[name=email1]\").val(selfEmail.val());\r\n\r\n            $.when(\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \"phpfiles/send.php\",\r\n                    data: formData,\r\n                    success: function(data) {\r\n                        \r\n                    }\r\n                }),\r\n\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: \"phpfiles/sendwe.php\",\r\n                    data: formData,\r\n                    success: function(data) {\r\n                        \r\n                    }\r\n                })\r\n            );\r\n        });\r\n\r\n        $(\"#bigForm\").submit(function(e) {\r\n            e.preventDefault();\r\n\r\n            var self = $(this);\r\n            var formData = self.serialize();\r\n\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url: \"php/sendpresent.php\",\r\n                data: formData,\r\n                success: function(data) {\r\n                    location = \"thanks.html\";\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    body.on(\"click\", \".js-get-call\", function(e) {\r\n        e.preventDefault();\r\n\r\n        $('.g-modal_get-call').fadeIn();\r\n    });\r\n\r\n    body.on(\"click\", function(e) {\r\n        var target = $(e.target);\r\n\r\n        if((target.hasClass(\"g-modal\") || target.hasClass(\"g-modal__close\")) && (target.hasClass(\"g-modal_thanks\") && target.hasClass(\"g-modal__close_thanks\"))) {\r\n            $(\".g-modal\").fadeOut();\r\n        } else if (target.hasClass(\"g-modal_thanks\") || target.hasClass(\"g-modal__close_thanks\")){\r\n            $(\".g-modal\").fadeOut();\r\n            window.location = \"thanks.html\";\r\n        }\r\n    });\r\n\r\n    body.on(\"click\", \".js-reguest\", function(e) {\r\n        e.preventDefault();\r\n\r\n        $('.g-modal_request').fadeToggle();\r\n    });\r\n\r\n    body.on(\"click\", function(e) {\r\n        var target = $(e.target);\r\n\r\n        if(target.hasClass(\"g-modal\") || target.hasClass(\"g-modal__close\")) {\r\n            $(\".g-modal\").fadeOut();\r\n        }\r\n    });\r\n\r\n    body.on(\"click\", \".thanks__btn-back\", function(e) {\r\n        e.preventDefault();\r\n\r\n        window.location = \"/\";\r\n    });\r\n\r\n    body.on(\"click\", \".thanks__btn-doc\", function(e) {\r\n        e.preventDefault();\r\n\r\n        window.location = \"doc/doc.pdf\";\r\n    });\r\n    \r\n    if (window.matchMedia(\"(max-width: 1024px)\").matches) {\r\n        $('.sec1').viewportChecker({\r\n            classToAdd: '',\r\n            classToAddForFullView: '',\r\n\r\n            callbackFunction: function(elem, action) {\r\n                $(\".sec1__auto\").addClass(\"sec1__auto_show\");\r\n            }\r\n        });\r\n\r\n        $('.sec2__number').viewportChecker({\r\n            classToAdd: '',\r\n            classToAddForFullView: '',\r\n            callbackFunction: function(elem, action) {\r\n\r\n                if(timerStop) {\r\n                    runSec2Timer();\r\n                    timerStop = false;\r\n                }\r\n            },\r\n        });\r\n    } else {\r\n        $(\"#mainFullpage\").fullpage({\r\n            scrollOverflow: true,\r\n\r\n            afterRender: function() {\r\n                $(\".sec4__list-item\").addClass(\"sec4__list-item_hide\");\r\n\r\n                $('.sec2__img_auto').viewportChecker({\r\n                    classToAdd: 'sec2__img_move',\r\n                    classToAddForFullView: 'sec2__img_move',\r\n                });\r\n            },\r\n\r\n            afterLoad: function(anchorLink, index) {\r\n                if (index == 1) {\r\n                    $('.sec1__auto').addClass(\"sec1__auto_show\");\r\n                } else if (index == 4) {\r\n\r\n                    $('.sec4__list-item').addClass(\"sec4__list-item_show\");\r\n                    \r\n                }\r\n            },\r\n\r\n            onLeave: function(index, nextIndex, direction) {\r\n                if (nextIndex == 2 && timerStop) {\r\n                    $('.sec2__img_auto').addClass(\"sec2__img_move\");\r\n\r\n                    runSec2Timer();\r\n\r\n                    timerStop = false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n});"]}